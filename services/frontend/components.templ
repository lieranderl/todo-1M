package frontend

templ AppHead(title string) {
	<head>
		<meta charset="UTF-8"/>
		<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
		<title>{ title }</title>
		<link href="https://cdn.jsdelivr.net/npm/daisyui@4.4.19/dist/full.min.css" rel="stylesheet" type="text/css"/>
		<link rel="preconnect" href="https://fonts.googleapis.com"/>
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"/>
		<link href="https://fonts.googleapis.com/css2?family=Sora:wght@500;600;700;800&family=Manrope:wght@400;500;600;700;800&display=swap" rel="stylesheet"/>
		<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet"/>
		<link href="/static/app.css" rel="stylesheet"/>
		<script type="module" src="https://cdn.jsdelivr.net/gh/starfederation/datastar@v1.0.0-RC.7/bundles/datastar.js"></script>
	</head>
}

templ AuthGuard(message string) {
	<div id="auth-guard" class="auth-guard-wrap">
		<div class="auth-guard-card">
			<span class="loading loading-spinner loading-lg text-info"></span>
			<p class="text-base-content/70">{ message }</p>
		</div>
	</div>
}

templ SideNavItem(href string, label string, icon string, active bool) {
	<a
		href={ href }
		class={ "app-nav-item", templ.KV("is-active", active) }
	>
		<span class="material-icons text-[18px]">{ icon }</span>
		<span>{ label }</span>
	</a>
}

templ AppSidebar(active string) {
	<aside class="app-sidebar">
		<div class="app-brand">
			<div class="app-brand-logo">
				<span class="material-icons text-white text-[18px]">task_alt</span>
			</div>
			<div>
				<div class="app-brand-title">Todo-1M</div>
				<div class="app-brand-sub">Datastar + CQRS</div>
			</div>
		</div>

		<nav class="app-nav">
			@SideNavItem("/app", "Workspace", "dashboard", active == "workspace")
			@SideNavItem("/architecture", "Overview", "analytics", active == "overview")
			@SideNavItem("/settings", "Group Settings", "settings_suggest", active == "settings")
		</nav>

		<div class="app-sidebar-footer">
			<div class="app-sidebar-footer-title">Architecture</div>
			<div class="app-sidebar-footer-text">NATS JetStream events, CQRS projections, SSE stream and RBAC write guards.</div>
		</div>
	</aside>
}

templ WorkspaceMetric(title string, value string, subtitle string, icon string, tone string) {
	<div class={ "stat-card " + tone }>
		<div class="stat-card-top">
			<div class="stat-card-title">{ title }</div>
			<div class="stat-card-icon"><span class="material-icons text-[18px]">{ icon }</span></div>
		</div>
		<div class="stat-card-value">{ value }</div>
		<div class="stat-card-sub">{ subtitle }</div>
	</div>
}

templ LoginFeatureCard(kicker string, title string, subtitle string, kickerClass string) {
	<div class="login-feature-card">
		<div class={ "text-[11px] uppercase tracking-widest font-semibold " + kickerClass }>{ kicker }</div>
		<div class="text-lg font-bold text-white mt-1">{ title }</div>
		<div class="text-xs text-slate-300/80 mt-1">{ subtitle }</div>
	</div>
}

templ PersistAuthEffects() {
	<div data-effect="$access_token && localStorage.setItem('todo_access_token', $access_token)"></div>
	<div data-effect="$refresh_token && localStorage.setItem('todo_refresh_token', $refresh_token)"></div>
	<div data-effect="$username && localStorage.setItem('todo_username', $username)"></div>
	<div data-effect="$user_id && localStorage.setItem('todo_user_id', $user_id)"></div>
}

templ LogoutButton(buttonID string) {
	<button
		id={ buttonID }
		class="btn btn-sm btn-error"
		data-on:click="@post($api_base + '/api/v1/auth/logout', {payload: {refresh_token: $refresh_token}, filterSignals: {include: /^$/}}); @setAll('', {include: /^(access_token|refresh_token|username|user_id|active_group_id)$/}); localStorage.removeItem('todo_access_token'); localStorage.removeItem('todo_refresh_token'); localStorage.removeItem('todo_username'); localStorage.removeItem('todo_user_id'); localStorage.removeItem('todo_active_group'); window.location.assign('/login')"
	>
		Logout
	</button>
}

templ LoginPage() {
	<!DOCTYPE html>
	<html lang="en" data-theme="night">
		@AppHead("Todo-1M 路 Login")
		<body
			class="min-h-screen"
			data-signals="{api_base: window.location.origin.replace(':8081', ':8080').replace(':18081', ':18080'), login_username: '', login_password: '', access_token: localStorage.getItem('todo_access_token') || '', refresh_token: localStorage.getItem('todo_refresh_token') || '', username: localStorage.getItem('todo_username') || '', user_id: localStorage.getItem('todo_user_id') || ''}"
		>
			<div data-effect="$access_token && window.location.assign('/app')"></div>
			<main class="login-shell">
				<section class="login-hero">
					<img
						src="https://images.unsplash.com/photo-1515378791036-0648a3ef77b2?auto=format&fit=crop&w=1800&q=80"
						alt="Modern workspace"
						class="login-hero-image"
					/>
					<div class="login-hero-overlay"></div>
					<div class="login-hero-content">
						<div class="inline-flex items-center gap-3 rounded-xl bg-slate-900/40 px-3 py-2 border border-white/10">
							<div class="app-brand-logo"><span class="material-icons text-white text-[18px]">task_alt</span></div>
							<div class="text-white font-bold brand-font tracking-tight">Todo-1M Workspace</div>
						</div>
						<h1 class="login-hero-title">Collaborative teams, real-time updates, clean event-driven architecture.</h1>
						<p class="login-hero-sub">Local-first microservices with command/query separation, RBAC, and Datastar-enhanced UX.</p>
						<div class="grid sm:grid-cols-3 gap-3 mt-6">
							@LoginFeatureCard("Command", "CQRS Write", "Auth + validation", "text-cyan-300")
							@LoginFeatureCard("Bus", "NATS JetStream", "Durable ordered events", "text-blue-300")
							@LoginFeatureCard("Read", "SSE + Datastar", "Projection-safe rendering", "text-emerald-300")
						</div>
					</div>
				</section>

				<section class="login-form-side">
					<div class="login-form-card">
						<div>
							<h2 class="brand-font text-3xl font-extrabold text-base-content">Welcome back</h2>
							<p class="text-sm text-base-content/60 mt-1">Sign in to continue to your team workspace.</p>
						</div>
							<div class="space-y-4 mt-4">
								<label class="form-control w-full">
									<div class="label pb-1"><span class="label-text text-xs uppercase tracking-wider">Username</span></div>
									<input id="login-username" class="input input-bordered w-full" type="text" placeholder="e.g. team-lead" data-bind:login_username data-on:keydown="event.key === 'Enter' && @post($api_base + '/api/v1/auth/login', {payload: {username: $login_username, password: $login_password}, filterSignals: {include: /^$/}})"/>
								</label>
								<label class="form-control w-full">
									<div class="label pb-1"><span class="label-text text-xs uppercase tracking-wider">Password</span></div>
									<input id="login-password" class="input input-bordered w-full" type="password" placeholder="Minimum 8 characters" data-bind:login_password data-on:keydown="event.key === 'Enter' && @post($api_base + '/api/v1/auth/login', {payload: {username: $login_username, password: $login_password}, filterSignals: {include: /^$/}})"/>
								</label>
							</div>
							<div class="grid grid-cols-2 gap-3 mt-4">
								<button id="login-btn" class="btn btn-primary" data-indicator:auth_busy data-attr:disabled="$auth_busy" data-on:click="@post($api_base + '/api/v1/auth/login', {payload: {username: $login_username, password: $login_password}, filterSignals: {include: /^$/}})">Login</button>
								<button id="register-btn" class="btn btn-outline btn-secondary" data-indicator:auth_busy data-attr:disabled="$auth_busy" data-on:click="@post($api_base + '/api/v1/auth/register', {payload: {username: $login_username, password: $login_password}, filterSignals: {include: /^$/}})">Register</button>
							</div>
							<p id="login-status" class="text-sm min-h-6 mt-2" data-text="$error || ''"></p>
						</div>
					</section>
				</main>
			@PersistAuthEffects()
			</body>
	</html>
}

templ WorkspacePage() {
	<!DOCTYPE html>
	<html lang="en" data-theme="night">
		@AppHead("Todo-1M 路 Workspace")
		<body
			class="min-h-screen"
			data-signals="{api_base: window.location.origin.replace(':8081', ':8080').replace(':18081', ':18080'), access_token: localStorage.getItem('todo_access_token') || '', refresh_token: localStorage.getItem('todo_refresh_token') || '', username: localStorage.getItem('todo_username') || '', user_id: localStorage.getItem('todo_user_id') || '', active_group_id: localStorage.getItem('todo_active_group') || '', active_group_role: '', show_feed: localStorage.getItem('todo_show_feed') == null ? true : localStorage.getItem('todo_show_feed') === '1', workspace_bootstrapped: false, group_name: '', member_username: '', member_role: 'member', role_username: '', role_value: 'member', todo_message: ''}"
		>
			<div data-show="!$access_token">
				@AuthGuard("Checking session...")
			</div>
			<div data-effect="!$access_token && window.location.assign('/login')"></div>
			@PersistAuthEffects()
			<div data-effect="localStorage.setItem('todo_show_feed', $show_feed ? '1' : '0')"></div>
			<div data-effect="$active_group_id ? localStorage.setItem('todo_active_group', $active_group_id) : localStorage.removeItem('todo_active_group')"></div>
			<div data-effect="$access_token && !$workspace_bootstrapped && (@get('/ui/workspace?group_id=' + $active_group_id, {headers: {Authorization: 'Bearer ' + $access_token}, filterSignals: {include: /^$/}}), @setAll(true, {include: /^workspace_bootstrapped$/}))"></div>

			<div id="app-shell" class="app-root" data-show="$access_token">
				<div class="app-layout">
					@AppSidebar("workspace")

					<div class="app-main">
						<header class="app-topbar">
							<div>
								<div class="app-topbar-title brand-font">Group Workspace</div>
								<div class="app-topbar-sub">Realtime collaboration with projection-safe updates.</div>
							</div>
								<div class="app-topbar-actions">
									<div id="toolbar-user" class="badge badge-neutral badge-lg" data-text="$username || 'user'"></div>
									<button id="refresh-btn" class="btn btn-sm btn-outline btn-info" data-indicator:refresh_busy data-attr:disabled="$refresh_busy" data-on:click="@post($api_base + '/api/v1/auth/refresh', {payload: {refresh_token: $refresh_token}, filterSignals: {include: /^$/}})">Refresh Token</button>
									@LogoutButton("logout-btn")
								</div>
						</header>

						<main class="app-content">
							<div class="status-card">
								<div class="flex items-center justify-between gap-3 flex-wrap">
									<p id="auth-status" class="text-sm font-semibold text-info" data-text="'Logged in as ' + ($username || 'user')"></p>
									<label class="label cursor-pointer gap-3 p-0">
										<span class="label-text text-sm text-base-content/80">Show Realtime Feed</span>
										<input id="feed-visible-toggle" type="checkbox" class="toggle toggle-info" data-bind:show_feed/>
									</label>
								</div>
							</div>

							<section class="stats-grid">
								@WorkspaceMetric("Session", "Authenticated", "JWT + refresh flow", "verified_user", "tone-success")
								@WorkspaceMetric("Consistency", "Projection Synced", "SSE patch-first workflow", "sync", "tone-info")
								@WorkspaceMetric("Transport", "SSE + Datastar", "Live event patch stream", "rss_feed", "tone-primary")
							</section>

							<section class="workspace-grid">
								<aside class="workspace-side space-y-5">
									<div class="panel-card">
										<div class="panel-header">
											<h2 class="panel-title">Groups</h2>
											<p class="panel-sub">Create and switch active collaboration groups.</p>
										</div>
										<label class="form-control">
											<div class="label pb-1"><span class="label-text text-xs uppercase tracking-widest">Create Group</span></div>
											<div class="join w-full">
												<input id="group-name" class="input input-bordered join-item w-full" type="text" placeholder="New group name" data-bind:group_name data-on:keydown="event.key === 'Enter' && @post($api_base + '/api/v1/groups', {headers: {Authorization: 'Bearer ' + $access_token}, payload: {name: $group_name}, filterSignals: {include: /^$/}})"/>
												<button id="create-group-btn" class="btn btn-primary join-item" data-indicator:create_group_busy data-attr:disabled="$create_group_busy" data-on:click="@post($api_base + '/api/v1/groups', {headers: {Authorization: 'Bearer ' + $access_token}, payload: {name: $group_name}, filterSignals: {include: /^$/}}); @setAll($id, {include: /^active_group_id$/}); @setAll('', {include: /^group_name$/}); @get('/ui/workspace?group_id=' + $active_group_id, {headers: {Authorization: 'Bearer ' + $access_token}, filterSignals: {include: /^$/}}); @get('/events?group_id=' + $active_group_id + '&token=' + $access_token, {openWhenHidden: true, filterSignals: {include: /^$/}})">Create</button>
											</div>
										</label>
										<label class="form-control">
											<div class="label pb-1"><span class="label-text text-xs uppercase tracking-widest">Connect Group</span></div>
											<div class="join w-full">
												<input id="active-group" class="input input-bordered join-item w-full" type="text" placeholder="Active group id" data-bind:active_group_id data-on:keydown="event.key === 'Enter' && @get('/ui/workspace?group_id=' + $active_group_id, {headers: {Authorization: 'Bearer ' + $access_token}, filterSignals: {include: /^$/}})"/>
												<button id="connect-group-btn" class="btn btn-secondary join-item" data-indicator:connect_group_busy data-attr:disabled="$connect_group_busy" data-on:click="$active_group_id && @get('/ui/workspace?group_id=' + $active_group_id, {headers: {Authorization: 'Bearer ' + $access_token}, filterSignals: {include: /^$/}}); $active_group_id && @get('/events?group_id=' + $active_group_id + '&token=' + $access_token, {openWhenHidden: true, filterSignals: {include: /^$/}})">Connect</button>
											</div>
										</label>
										<ul id="groups-list" class="menu bg-base-200/60 rounded-box border border-base-300/40 p-2 max-h-64 overflow-auto">
											<li class="text-sm text-base-content/60 px-3 py-2">Loading groups...</li>
										</ul>
									</div>

									<div class="panel-card">
										<div class="panel-header">
											<h2 class="panel-title">Members & Roles</h2>
											<p class="panel-sub">Role-based management in active group.</p>
										</div>
										<div class="members-role-row">
											<input id="member-username" class="input input-bordered min-w-0" type="text" placeholder="Username" data-bind:member_username data-on:keydown="event.key === 'Enter' && $active_group_id && @post($api_base + '/api/v1/groups/' + $active_group_id + '/members', {headers: {Authorization: 'Bearer ' + $access_token}, payload: {username: $member_username, role: $member_role}, filterSignals: {include: /^$/}})"/>
											<select id="member-role" class="select select-bordered members-role-select" data-bind:member_role>
												<option value="member">member</option>
												<option value="admin">admin</option>
											</select>
											<button id="add-member-btn" class="btn members-role-btn" data-indicator:add_member_busy data-attr:disabled="$add_member_busy" data-on:click="$active_group_id && @post($api_base + '/api/v1/groups/' + $active_group_id + '/members', {headers: {Authorization: 'Bearer ' + $access_token}, payload: {username: $member_username, role: $member_role}, filterSignals: {include: /^$/}}); @setAll('', {include: /^member_username$/}); $active_group_id && @get('/ui/workspace?group_id=' + $active_group_id, {headers: {Authorization: 'Bearer ' + $access_token}, filterSignals: {include: /^$/}})">Add</button>
										</div>
										<div class="members-role-row mt-3">
											<input id="role-username" class="input input-bordered min-w-0" type="text" placeholder="Username to update role" data-bind:role_username data-on:keydown="event.key === 'Enter' && $active_group_id && @patch($api_base + '/api/v1/groups/' + $active_group_id + '/members/role', {headers: {Authorization: 'Bearer ' + $access_token}, payload: {username: $role_username, role: $role_value}, filterSignals: {include: /^$/}})"/>
											<select id="role-value" class="select select-bordered members-role-select" data-bind:role_value>
												<option value="member">member</option>
												<option value="admin">admin</option>
											</select>
											<button id="update-role-btn" class="btn members-role-btn" data-indicator:update_role_busy data-attr:disabled="$update_role_busy" data-on:click="$active_group_id && @patch($api_base + '/api/v1/groups/' + $active_group_id + '/members/role', {headers: {Authorization: 'Bearer ' + $access_token}, payload: {username: $role_username, role: $role_value}, filterSignals: {include: /^$/}}); @setAll('', {include: /^role_username$/}); $active_group_id && @get('/ui/workspace?group_id=' + $active_group_id, {headers: {Authorization: 'Bearer ' + $access_token}, filterSignals: {include: /^$/}})">Update</button>
										</div>
									</div>
								</aside>

								<section class="workspace-main space-y-5">
									<div class="panel-card">
										<div class="panel-header">
											<h2 class="panel-title">Todo Board</h2>
											<p class="panel-sub">Live group todo stream with author attribution and RBAC edits.</p>
										</div>
										<div class="join w-full mb-3">
												<input id="todo-input" class="input input-bordered join-item w-full" type="text" placeholder="Write a todo message..." data-bind:todo_message data-on:keydown="event.key === 'Enter' && $active_group_id && @post($api_base + '/api/v1/command', {headers: {Authorization: 'Bearer ' + $access_token}, payload: {action: 'create-todo', title: $todo_message, group_id: $active_group_id, todo_id: ''}, filterSignals: {include: /^$/}})"/>
												<button id="send-btn" class="btn btn-primary join-item" data-indicator:create_todo_busy data-attr:disabled="$create_todo_busy" data-on:click="$active_group_id && @post($api_base + '/api/v1/command', {headers: {Authorization: 'Bearer ' + $access_token}, payload: {action: 'create-todo', title: $todo_message, group_id: $active_group_id, todo_id: ''}, filterSignals: {include: /^$/}}); @setAll('', {include: /^todo_message$/})">Add</button>
										</div>
										<div id="todos" class="space-y-3">
											<div class="text-sm text-base-content/60 px-2 py-3">Select or connect a group to view todos.</div>
										</div>
									</div>

									<div id="feed-card" class="panel-card" data-show="$show_feed">
										<div class="panel-header">
											<h2 class="panel-title">Realtime Feed</h2>
											<p class="panel-sub">SSE stream rendered with Datastar patches.</p>
										</div>
										<div id="events" class="space-y-3 max-h-[24rem] overflow-auto pr-1">
											<span class="loading loading-spinner loading-lg text-info"></span>
										</div>
									</div>
								</section>
							</section>
						</main>
					</div>
				</div>
			</div>
		</body>
	</html>
}

templ ArchitectureServiceCard(title string, subtitle string, icon string, tone string) {
	<div class={ "overview-card " + tone }>
		<div class="overview-card-head">
			<div class="overview-icon"><span class="material-icons text-[18px]">{ icon }</span></div>
			<h3 class="overview-title">{ title }</h3>
		</div>
		<p class="overview-sub">{ subtitle }</p>
	</div>
}

templ ArchitecturePage() {
	<!DOCTYPE html>
	<html lang="en" data-theme="night">
		@AppHead("Todo-1M 路 Overview")
		<body
			class="min-h-screen"
			data-signals="{api_base: window.location.origin.replace(':8081', ':8080').replace(':18081', ':18080'), access_token: localStorage.getItem('todo_access_token') || '', refresh_token: localStorage.getItem('todo_refresh_token') || '', username: localStorage.getItem('todo_username') || '', user_id: localStorage.getItem('todo_user_id') || ''}"
		>
			<div data-show="!$access_token">
				@AuthGuard("Checking session...")
			</div>
			<div data-effect="!$access_token && window.location.assign('/login')"></div>
			@PersistAuthEffects()

			<div id="architecture-shell" class="app-root" data-show="$access_token">
				<div class="app-layout">
					@AppSidebar("overview")

					<div class="app-main">
							<header class="app-topbar">
								<div>
									<div class="app-topbar-title brand-font">Group Overview</div>
									<div class="app-topbar-sub">Dashboard snapshot of your collaboration system.</div>
								</div>
									<div class="app-topbar-actions">
										<div id="toolbar-user" class="badge badge-neutral badge-lg" data-text="$username || 'user'"></div>
										@LogoutButton("logout-btn")
									</div>
							</header>

						<main class="app-content space-y-5">
							<section class="stats-grid">
								@WorkspaceMetric("Groups", "Live", "Group-scoped read and write paths", "groups", "tone-primary")
								@WorkspaceMetric("Users", "RBAC", "owner/admin/member enforcement", "admin_panel_settings", "tone-info")
								@WorkspaceMetric("Events", "JetStream", "Durable event history and replay", "hive", "tone-success")
							</section>

							<section class="overview-grid">
								@ArchitectureServiceCard("Command API", "Validates JWT, enforces group role permissions, receives command intents.", "input", "tone-primary")
								@ArchitectureServiceCard("Domain Engine", "Applies business rules and transforms commands into domain events.", "hub", "tone-info")
								@ArchitectureServiceCard("Data Sink", "Persists events and updates read projections by group.", "database", "tone-success")
								@ArchitectureServiceCard("SSE Streamer", "Serves query endpoints and pushes Datastar live patches.", "stream", "tone-warning")
							</section>

							<section class="panel-card">
								<div class="panel-header">
									<h2 class="panel-title">Message Flow</h2>
									<p class="panel-sub">Every mutation follows one durable path from command to consistent read model.</p>
								</div>
								<ul class="steps steps-vertical lg:steps-horizontal w-full">
									<li class="step step-primary">Client sends command</li>
									<li class="step step-primary">API validates auth + RBAC</li>
									<li class="step step-primary">Event stored in JetStream</li>
									<li class="step step-primary">Projection catches up</li>
									<li class="step step-primary">SSE refreshes UI safely</li>
								</ul>
							</section>
						</main>
					</div>
				</div>
			</div>
		</body>
	</html>
}

templ SettingsPage() {
	<!DOCTYPE html>
	<html lang="en" data-theme="night">
		@AppHead("Todo-1M 路 Group Settings")
		<body
			class="min-h-screen"
			data-signals="{api_base: window.location.origin.replace(':8081', ':8080').replace(':18081', ':18080'), access_token: localStorage.getItem('todo_access_token') || '', refresh_token: localStorage.getItem('todo_refresh_token') || '', username: localStorage.getItem('todo_username') || '', user_id: localStorage.getItem('todo_user_id') || ''}"
		>
			<div data-show="!$access_token">
				@AuthGuard("Checking session...")
			</div>
			<div data-effect="!$access_token && window.location.assign('/login')"></div>
			@PersistAuthEffects()

			<div id="settings-shell" class="app-root" data-show="$access_token">
				<div class="app-layout">
					@AppSidebar("settings")

					<div class="app-main">
							<header class="app-topbar">
								<div>
									<div class="app-topbar-title brand-font">Group Settings & RBAC</div>
									<div class="app-topbar-sub">Permission model and operational controls for your active workspace.</div>
								</div>
									<div class="app-topbar-actions">
										<div id="toolbar-user" class="badge badge-neutral badge-lg" data-text="$username || 'user'"></div>
										@LogoutButton("logout-btn")
									</div>
							</header>

						<main class="app-content space-y-5">
							<section class="panel-card">
								<div class="panel-header">
									<h2 class="panel-title">Role Definitions</h2>
									<p class="panel-sub">Current production permission model used by command handlers.</p>
								</div>
								<div class="grid md:grid-cols-3 gap-3">
									<div class="role-def role-owner">
										<div class="font-bold">Owner</div>
										<p>Full workspace control including member role management.</p>
									</div>
									<div class="role-def role-admin">
										<div class="font-bold">Admin</div>
										<p>Can add/edit/delete todos and manage members.</p>
									</div>
									<div class="role-def role-member">
										<div class="font-bold">Member</div>
										<p>Can read and create todos, edit own items only.</p>
									</div>
								</div>
							</section>

							<section class="panel-card">
								<div class="panel-header">
									<h2 class="panel-title">Operational Notes</h2>
									<p class="panel-sub">Local deployment behavior and runtime expectations.</p>
								</div>
								<ul class="list-disc pl-5 text-sm text-base-content/70 space-y-2">
									<li>Group data isolation is enforced in both query endpoints and command actions.</li>
									<li>UI updates are eventual-consistent and projection-gated by event sequence offset.</li>
									<li>Token refresh and logout are handled in browser state with secure API endpoints.</li>
									<li>Use the Workspace page for all live member and todo management actions.</li>
								</ul>
							</section>
						</main>
					</div>
				</div>
			</div>
		</body>
	</html>
}

templ EventItem(msg string, subtitle string) {
	<div class="chat chat-start">
		<div class="chat-bubble bg-info text-info-content shadow border border-info/30">
			<p class="font-semibold leading-tight">{ msg }</p>
			<p class="text-xs opacity-80 mt-1">{ subtitle }</p>
		</div>
	</div>
}
